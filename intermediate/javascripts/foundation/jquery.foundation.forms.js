(function(b){var p=function(){return{tmp:[],hidden:null,adjust:function(a){var c=this;c.hidden=a.parents().andSelf().filter(":hidden");c.hidden.each(function(){var a=b(this);c.tmp.push(a.attr("style"));a.css({visibility:"hidden",display:"block"})})},reset:function(){var a=this;a.hidden.each(function(c){var e=b(this),c=a.tmp[c];c===void 0?e.removeAttr("style"):e.attr("style",c)});a.tmp=[];a.hidden=null}}};jQuery.foundation=jQuery.foundation||{};jQuery.foundation.customForms=jQuery.foundation.customForms||
{};b.foundation.customForms.appendCustomMarkup=function(a){function c(a,c){var g=b(c).hide(),f=g.attr("type"),d=g.next("span.custom."+f);d.length===0&&(d=b('<span class="custom '+f+'"></span>').insertAfter(g));d.toggleClass("checked",g.is(":checked"));d.toggleClass("disabled",g.is(":disabled"))}a=b.extend({disable_class:"js-disable-custom"},a);b("form.custom input:radio[data-customforms!=disabled]").each(c);b("form.custom input:checkbox[data-customforms!=disabled]").each(c);b("form.custom select[data-customforms!=disabled]").each(function(c,
a){var g=p(),f=b(a),d=f.next("div.custom.dropdown"),i=d.find("ul");d.find(".current");d.find(".selector");var k=f.find("option"),h=k.filter(":selected"),j=0,l="",m,n=!1;f.hasClass("no-custom")||(d.length===0?(d=f.hasClass("small")?"small":f.hasClass("medium")?"medium":f.hasClass("large")?"large":f.hasClass("expand")?"expand":"",d=b('<div class="'+["custom dropdown",d].join(" ")+'"><a href="#" class="selector"></a><ul /></div>"'),d.find(".selector"),i=d.find("ul"),l=k.map(function(){return"<li>"+b(this).html()+
"</li>"}).get().join(""),i.append(l),n=d.prepend('<a href="#" class="current">'+h.html()+"</a>").find(".current"),f.after(d).hide()):(l=k.map(function(){return"<li>"+b(this).html()+"</li>"}).get().join(""),i.html("").append(l)),d.toggleClass("disabled",f.is(":disabled")),m=i.find("li"),k.each(function(a){this.selected&&(m.eq(a).addClass("selected"),n&&n.html(b(this).html()))}),i.css("width","inherit"),d.css("width","inherit"),d.is(".small, .medium, .large, .expand")||(d.addClass("open"),g.adjust(i),
j=m.outerWidth()>j?m.outerWidth():j,g.reset(),d.removeClass("open"),d.width(j+18),i.width(j+16)))})};var q=function(a){var c=0,e=a.next();$options=a.find("option");e.find("ul").html("");$options.each(function(){$li=b("<li>"+b(this).html()+"</li>");e.find("ul").append($li)});$options.each(function(a){this.selected&&(e.find("li").eq(a).addClass("selected"),e.find(".current").html(b(this).html()))});e.removeAttr("style").find("ul").removeAttr("style");e.find("li").each(function(){e.addClass("open");
b(this).outerWidth()>c&&(c=b(this).outerWidth());e.removeClass("open")});e.css("width",c+18+"px");e.find("ul").css("width",c+16+"px")},h=function(a){var c=a.prev(),b=c[0];if(!1===c.is(":disabled"))b.checked=b.checked?!1:!0,a.toggleClass("checked"),c.trigger("change")},o=function(a){var c=a.prev(),b=c.closest("form.custom"),h=c[0];if(!1===c.is(":disabled"))b.find('input:radio[name="'+c.attr("name")+'"]').next().not(a).removeClass("checked"),a.hasClass("checked")||a.toggleClass("checked"),h.checked=
a.hasClass("checked"),c.trigger("change")};b(document).on("click","form.custom span.custom.checkbox",function(a){a.preventDefault();a.stopPropagation();h(b(this))});b(document).on("click","form.custom span.custom.radio",function(a){a.preventDefault();a.stopPropagation();o(b(this))});b(document).on("change","form.custom select[data-customforms!=disabled]",function(){q(b(this))});b(document).on("click","form.custom label",function(a){var c=b("#"+b(this).attr("for")+"[data-customforms!=disabled]");c.length!==
0&&(c.attr("type")==="checkbox"?(a.preventDefault(),a=b(this).find("span.custom.checkbox"),h(a)):c.attr("type")==="radio"&&(a.preventDefault(),a=b(this).find("span.custom.radio"),o(a)))});b(document).on("click","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(a){var c=b(this).closest("div.custom.dropdown"),e=c.prev();a.preventDefault();b("div.dropdown").removeClass("open");if(!1===e.is(":disabled"))return c.toggleClass("open"),c.hasClass("open")?b(document).bind("click.customdropdown",
function(){c.removeClass("open");b(document).unbind(".customdropdown")}):b(document).unbind(".customdropdown"),!1});b(document).on("click","form.custom div.custom.dropdown li",function(a){var c=b(this),e=c.closest("div.custom.dropdown"),h=e.prev(),g=0;a.preventDefault();a.stopPropagation();b("div.dropdown").removeClass("open");c.closest("ul").find("li").removeClass("selected");c.addClass("selected");e.removeClass("open").find("a.current").html(c.html());c.closest("ul").find("li").each(function(a){c[0]==
this&&(g=a)});h[0].selectedIndex=g;h.trigger("change")});b.fn.foundationCustomForms=b.foundation.customForms.appendCustomMarkup})(jQuery);
