var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},condValues:{},forms:[],saveForm:!1,imageFiles:"png,jpg,jpeg,ico,tiff,bmp,gif,apng,jp2,jfif".split(","),autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,saving:!1,texts:{confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than",incompleteFields:"There are incomplete required fields. Please complete them.",
required:"This field is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",uploadExtensions:"You can only upload following files:",uploadFilesize:"File size cannot be bigger than:"},getServerURL:function(){var a=$$(".jotform-form")[0],b;if(a&&(b=a.readAttribute("action")))b.include("submit.php")||b.include("server.php")?(a=!b.include("server.php")?
"submit":"server",this.server=b.replace(a+".php","server.php"),this.url=b.replace(a+".php","")):(b=b.replace(/\/submit\/.*?$/,"/"),this.server=b+"server.php",this.url=b)},alterTexts:function(a){Object.extend(this.texts,a||{})},ie:function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>",c[0];);return a>4?a:void 0},createConsole:function(){$A(["log","info","warn","error"]).each(function(a){this[a]=function(){if(JotForm.debug&&
"console"in window)try{console[a].apply(this,arguments)}catch(b){if(typeof arguments[0]=="string")console.log(a.toUpperCase()+": "+$A(arguments).join(", "));else if(Prototype.Browser.IE)alert(a+": "+arguments[0]);else console[a](arguments[0])}}}.bind(this));if(JotForm.debug)JotForm.debugOptions=document.readJsonCookie("debug_options")},init:function(a){var b=function(){try{this.populateGet();if(document.get.debug=="1")this.debug=!0;this.createConsole();this.getServerURL();a&&a();(document.get.mode==
"edit"||document.get.mode=="inlineEdit")&&document.get.sid&&this.editMode();this.noJump="nojump"in document.get;this.uniqueID=this.uniqid();this.checkMultipleUploads();this.handleSavedForm();this.setTitle();this.getDefaults();this.handlePayPalProMethods();this.handleFormCollapse();this.handlePages();this.highLightLines();this.setButtonActions();this.initGradingInputs();this.setConditionEvents();this.prePopulations();this.handleAutoCompletes();this.handleTextareaLimits();this.handleRadioButtons();
this.setFocusEvents();this.disableAcceptonChrome();this.handleScreenshot();$A(document.forms).each(function(a){(a.name=="form_"+a.id||a.name=="q_form_"+a.id)&&this.forms.push(a)}.bind(this));this.validator();this.fixIESubmitURL();this.disableHTML5FormValidation()}catch(b){JotForm.error(b)}this.initializing=!1}.bind(this);document.readyState=="complete"||this.jsForm&&document.readyState===void 0?b():document.ready(b)},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&
$A(this.forms).each(function(a){if(a.action.include("s://submit."))a.action=a.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/")})}catch(a){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var a=this;setTimeout(function(){$$(".form-screen-button").each(function(b){window.parent&&window.parent.JotformFeedbackManager&&(a.getContainer(b).show(),b.observe("click",function(){a.passive=!1;try{a.takeScreenShot(b.id.replace("button_",""))}catch(c){console.error(c)}}),
setTimeout(function(){a.passive=!window.parent.wishboxInstantLoad;a.takeScreenShot(b.id.replace("button_",""))},0))})},300)},getCharset:function(a){a||(a=document);return a.characterSet||a.defaultCharset||a.charset||"UTF-8"},disableHTML5FormValidation:function(){$$("form").each(function(a){a.setAttribute("novalidate",!0)})},takeScreenShot:function(a){var b=window.parent,c='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+
this.url+'images/loader-black.gif" /><div style="font-family:verdana; font-size:12px;color:#fff;">Please Wait</div></div>';if(this.onprogress)b.$jot(c).appendTo("body");else{if(b.wishboxCompactLoad)this.compact=!0;if(this.screenshot)this.compact?b.$jot(".jt-dimmer").hide():b.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),b.jotformScreenshotURL=this.screenshot.data,this.injectEditor(this.screenshot.data,this.screenshot.shotURL);else{this.scuniq=JotForm.uniqid();this.scID=a;this.sformID=
JotForm.getForm($("button_"+this.scID)).formID.value;this.onprogress=!0;var d=this;this.wishboxServer="//screenshots.jotform.com/wishbox-server.php";a=(new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"})).hide();b.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide();b.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var f=b.document.getElementsByTagName("html")[0].innerHTML,f=f.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,
""),f=f.replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,"");b.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"});var f=f.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$1"),g=d.ie();g!==void 0&&g<9&&(f=f.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$1"));this.passive?b.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show():(b.$jot(".jotform-feedback-link").show(),
b.$jot(c).appendTo("body"));c=new Element("textarea",{name:"html"});this.getCharset(b.document).toLowerCase()!=="utf-8"?(c.value=encodeURIComponent('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >'+f+"</html>"),a.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("1"))):(a.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("0")),
c.value=encodeURIComponent(b.$jot.jSEND('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >'+f+"</html>")));var f=(new Element("input",{type:"hidden",name:"charset"})).putValue(this.getCharset(b.document)),e=(new Element("input",{type:"hidden",name:"height"})).putValue(parseFloat(b.$jot(b).height())),k=(new Element("input",{type:"hidden",name:"scrollTop"})).putValue(b.$jot(b).scrollTop()),
j=(new Element("input",{type:"hidden",name:"url"})).putValue(b.location.href),h=(new Element("input",{type:"hidden",name:"uniqID"})).putValue(this.scuniq),n=(new Element("input",{type:"hidden",name:"formID"})).putValue(this.sformID),l=(new Element("input",{type:"hidden",name:"action"})).putValue("getScreenshot"),m=(new Element("iframe",{name:"screen_frame",id:"screen_frame_id"})).hide();m.observe("load",function(){d.checkScreenShot()});b.wishboxInstantLoad&&(g===void 0||g>8)&&this.injectEditor(!1,
!1);a.insert(c).insert(e).insert(k).insert(l).insert(h).insert(j).insert(n).insert(f);$(document.body).insert(a).insert(m);a.submit()}}},checkScreenShot:function(){var a=this,b=window.parent,c=10;b.$jot.getJSON("//screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(d){d.success===!0?b.$jot.getJSON(d.dataURL+"?callback=?",function(c){if(a.passive===!1)b.jotformScreenshotURL=c.data,a.injectEditor(c.data,c.shotURL);a.screenshot=c;a.onprogress=!1;$("screen_form")&&$("screen_form").remove();
$("screen_frame_id")&&$("screen_frame_id").remove()}):(d.status=="waiting"||d.status=="working")&&--c?setTimeout(function(){a.checkScreenShot()},1E3):(alert("We are under heavy load right now. Please try again later."),b.$jot(".jt-dimmer, .jotform-feedback-link").show(),b.$jot(".jt-feedback").show("slow"))})},injectEditor:function(a,b){if(!this.injected){this.injected=!0;var c=this,d=window.parent;d.$jot("#js_loading").remove();d.$jot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",
compact:this.compact},function(f){var g='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none; ';g+=c.compact?"position:absolute;left:0;top:10px;height:"+(d.$jot(d).height()-120)+"px;width:"+(d.$jot(d).width()-100-d.$jot("#js-form-content").width())+"px;":"position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;";g+='" scrolling="no"></iframe>';var e;d.iframeWidth=d.$jot(d).width()-100-d.$jot("#js-form-content").width();d.iframeHeight=
d.$jot(d).height()-120;e=c.compact?d.$jot(g).insertBefore("#js-form-content"):d.$jot(g).appendTo("body");c.compact&&d.$jot("#js-form-content").css({"float":"right"});g=c.ie();if(g!==void 0&&g<9){e.attr("src","//screenshots.jotform.com/opt/templates/screen_editor.html?shot="+b+"&uniq="+c.scuniq);var k=d.$jot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");
k.click(function(){d.$jot.getJSON("//screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:c.scuniq},function(a){a.success?(h(),k.remove(),n(a.data,a.shotURL)):confirm("You haven't save your edits. Are you sure you want to close the editor?")&&(h(),k.remove())})})}else{var g=e[0],j=g.contentWindow?g.contentWindow:g.contentDocument.document?g.contentDocument.document:g.contentDocument;j.document.open();j.document.write(f.template);setTimeout(function(){j.document.close()},
200);d.jotformScreenshotURL=a}var h=function(){c.compact?(e.remove(),d.$jot("#js-form-content").css("width","100%")):e.hide("slow",function(){e.remove()});c.injected=!1;d.$jot(".jt-dimmer, .jotform-feedback-link").show();d.$jot(".jt-feedback").show("slow")},n=function(a,b){$("screen_"+c.scID).update('<img width="100%" align="center" src="'+(b?b:a)+'" />');$("data_"+c.scID).value=a;$("screen_"+c.scID).up().show()};d.JotformCancelEditor=function(){h()};d.JotformFinishEditing=function(a){h();n(a);c.imageSaved=
!0;c.compact&&setTimeout(function(){$(document).fire("image:loaded")},100)}})}},populateGet:function(){try{if("FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[])document.get=Object.extend(document.get,window.parent.FrameBuilder.get)}catch(a){}},checkMultipleUploads:function(){if($$(".form-upload-multiple").length>0){var a=document.createElement("script");a.type="text/javascript";a.src=this.url+"file-uploader/fileuploader.js";$(document.body).appendChild(a)}},
uniqid:function(a,b){typeof a=="undefined"&&(a="");var c,d=function(a,b){a=parseInt(a,10).toString(16);return b<a.length?a.slice(a.length-b):b>a.length?Array(1+(b-a.length)).join("0")+a:a};if(!this.php_js)this.php_js={};if(!this.php_js.uniqidSeed)this.php_js.uniqidSeed=Math.floor(Math.random()*123456789);this.php_js.uniqidSeed++;c=a;c+=d(parseInt((new Date).getTime()/1E3,10),8);c+=d(this.php_js.uniqidSeed,5);b&&(c+=(Math.random()*10).toFixed(8).toString());return c},initMultipleUploads:function(){$$(".form-upload-multiple").each(function(a){var b=
a.up("div"),c=JotForm.getForm(a),d=c.formID.value+"_"+JotForm.uniqueID;if(a.className.include("validate[required]"))b.addClassName("validate[required]"),b.validateInput=function(){return!JotForm.isVisible(b)?(JotForm.corrected(b),!0):b.select(".qq-upload-list li").length<1?(JotForm.errored(b,JotForm.texts.required),!1):(JotForm.corrected(b),!0)};var f=(new Element("input",{type:"hidden",name:"temp_upload_folder"})).setValue(d);c.insert({top:f});var c=(a.readAttribute("file-accept")||"").strip(),c=
c!=="*"?c.split(", "):[],g,f="";if((g=a.next())&&g.hasClassName("form-sub-label"))f=g.innerHTML;var e;if(g=a.previous(".qq-uploader-buttonText-value"))e=g.innerHTML;e||(e="Upload a File");new qq.FileUploader({debug:JotForm.debug,element:b,action:JotForm.server,subLabel:f,buttonText:e,sizeLimit:parseInt(a.readAttribute("file-maxsize"),10)*1024,allowedExtensions:c,onComplete:function(a,e,c){if(c.success)b.value="uploaded",JotForm.corrected(b)},showMessage:function(a){JotForm.errored(b,a);setTimeout(function(){},
3E3)},params:{action:"multipleUpload",field:a.name.replace("[]",""),folder:d}})})},hiddenSubmit:function(a){JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert((new Element("div",{className:"form-saving-indicator"})).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...'));setTimeout(function(){JotForm.saving=!0},10);if(!$("hidden_submit_form")){var b=(new Element("iframe",{name:"hidden_submit",
id:"hidden_submit_form"})).hide();b.observe("load",function(){JotForm.makeUploadChecks();$$(".form-saving-indicator").invoke("remove");JotForm.saving=!1});$(document.body).insert(b)}$("current_page").value=JotForm.currentSection.pagesIndex;a.writeAttribute("target","hidden_submit");a.insert({top:(new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"})).putValue("1")});a.submit();a.writeAttribute("target","");$("hidden_submission").remove()},makeUploadChecks:function(){var a=
$$('input[name="formID"]')[0];new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedUploadResults",formID:a.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(b){b=b.responseJSON;b.success&&(b.submissionID&&!$("submission_id")&&a.insert({after:(new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"})).putValue(b.submissionID)}),JotForm.editMode(b,!0))}})},handleSavedForm:function(){if("session"in document.get){JotForm.saveForm=!0;var a=$$('input[name="formID"]')[0];
a.insert({after:(new Element("input",{type:"hidden",name:"session_id",id:"session"})).putValue(document.get.session)});a.insert({after:(new Element("input",{type:"hidden",id:"current_page",name:"current_page"})).putValue(0)});new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedSubmissionResults",formID:a.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(b){b=b.responseJSON;if(b.success){b.submissionID&&a.insert({after:(new Element("input",{type:"hidden",name:"submission_id",
id:"submission_id"})).putValue(b.submissionID)});try{JotForm.editMode(b)}catch(c){console.error(c)}JotForm.openInitially=b.currentPage-1}}})}},setTitle:function(){if(document.title=="Form"){var a;if(a=$$(".form-header")[0])try{document.title=a.innerHTML.stripTags().strip(),document.title=document.title.unescapeHTML()}catch(b){document.title=a.innerHTML}}},setFocusEvents:function(){$$(".form-textbox, .form-password, .form-radio, .form-checkbox, .form-textarea, .form-upload, .form-dropdown").each(function(a){a.observe("focus",
function(){JotForm.lastFocus=a})})},disableAcceptonChrome:function(){Prototype.Browser.WebKit&&$$(".form-upload").each(function(a){if(a.hasAttribute("accept")){var b=a.readAttribute("accept");a.writeAttribute("accept","");a.writeAttribute("file-accept",b)}})},setCalendar:function(a){try{Calendar.setup({triggerElement:"input_"+a+"_pick",dateField:"year_"+a,selectHandler:JotForm.formatDate}),$("id_"+a).observe("keyup",function(){$("id_"+a).fire("date:changed")}),$("day_"+a).hasClassName("noDefault")||
JotForm.formatDate({date:new Date,dateField:$("id_"+a)})}catch(b){JotForm.error(b)}},getDefaults:function(){$$(".form-textbox, .form-dropdown, .form-textarea").each(function(a){if(!(a.hinted||a.value===""))JotForm.defaultValues[a.id]=a.value});$$(".form-radio, .form-checkbox").each(function(a){if(a.checked)JotForm.defaultValues[a.id]=a.value})},handleRadioButtons:function(){$$(".form-radio-other-input").each(function(a){a.disable().hint("Other")});$$(".form-radio").each(function(a){var b=a.id.replace(/input_(\d+)_\d+/gim,
"$1");b.match("other_")&&(b=a.id.replace(/other_(\d+)/,"$1"));if($("other_"+b)){var c=$("other_"+b),d=$("input_"+b);a.observe("click",function(){c.checked?(d.enable(),d.select()):(d.hintClear&&d.hintClear(),d.disable())})}})},handleTextareaLimits:function(){$$(".form-textarea-limit-indicator span").each(function(a){var b=a.id.split("-")[0];if($(b)){var c=a.readAttribute("type"),d=a.readAttribute("limit"),f=$(b);f.observe("keyup",function(){var b;if(c=="Words")b=$A(f.value.split(/\s+/)).without("").length;
else if(c=="Letters")b=f.value.length;b>d?$(a.parentNode).addClassName("form-textarea-limit-indicator-error"):$(a.parentNode).removeClassName("form-textarea-limit-indicator-error");a.update(b+"/"+d)});f.run("keyup")}})},handleAutoCompletes:function(){$H(JotForm.autoCompletes).each(function(a){var b=$(a.key);b.writeAttribute("autocomplete","off");$(b.parentNode);var c=$A(a.value.split("|")),d,f=0,g=0,e=(new Element("div",{className:"form-autocomplete-list"})).setStyle({listStyle:"none",listStylePosition:"outside",
position:"absolute",zIndex:"10000"}).hide(),k=function(){var a=b.getDimensions(),c=b.cumulativeOffset();e.setStyle({top:a.height+c[1]+"px",left:c[0]+"px",width:(a.width<1?100:a.width)-2+"px"});e.show()};$(document.body).insert(e);e.close=function(){e.update();e.hide();f=0};b.observe("blur",function(){e.close()});b.observe("keyup",function(){var a=b.value;if(d!=a)if(d=a,e.update(),a){var f=c.collect(function(b){if(b.toLowerCase().include(a.toLowerCase()))return b}).compact();f.length>0?(f.each(function(c){var d=
new Element("li",{className:"form-autocomplete-list-item"}),f;d.val=c;try{f=c.replace(RegExp("("+a+")","gim"),"<b>$1</b>")}catch(g){JotForm.error(g)}d.insert(f);d.onmousedown=function(){b.value=c;e.close()};e.insert(d)}),k(),g=g||$(e.firstChild).getHeight()+(parseInt($(e.firstChild).getStyle("padding"),10)||0)+(parseInt($(e.firstChild).getStyle("margin"),10)||0),e.setStyle({height:g*(f.length>9?10:f.length)+4+"px",overflow:"auto"})):e.close()}else e.close()});b.observe("keydown",function(a){var c;
if(e.visible()&&e.firstChild)switch((c=e.select(".form-autocomplete-list-item-selected")[0])&&c.removeClassName("form-autocomplete-list-item-selected"),a.keyCode){case Event.KEY_UP:c&&c.previousSibling?$(c.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(e.lastChild).addClassName("form-autocomplete-list-item-selected");f<=1?c&&c.previousSibling?($(c.previousSibling).scrollIntoView(!0),f=0):($(e.lastChild).scrollIntoView(!1),f=10):f--;break;case Event.KEY_DOWN:c&&c.nextSibling?
$(c.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(e.firstChild).addClassName("form-autocomplete-list-item-selected");f>=9?c&&c.nextSibling?($(c.nextSibling).scrollIntoView(!1),f=10):($(e.firstChild).scrollIntoView(!0),f=0):f++;break;case Event.KEY_ESC:e.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:if(c)b.value=c.val,d=b.value;e.close();a.keyCode==Event.KEY_RETURN&&a.stop()}})})},getFileExtension:function(a){return/[.]/.exec(a)?/[^.]+$/.exec(a)[0]:void 0},prePopulations:function(){$H(document.get).each(function(a){if(!(a.key.length<
3)){var b='[name*="_'+a.key+'"]',c=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,b))[0];if(c)c.value=a.value.replace("+"," "),JotForm.defaultValues[c.id]=c.value;$$(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,b)).each(function(b){$A(a.value.split(",")).include(b.value)&&b.click()})}})},resetForm:function(a){var b=$(a).select('input[type="hidden"]');b.each(function(a){a.__defaultValue=a.value});$(a).reset();b.each(function(a){a.value=a.__defaultValue});
return a},editMode:function(a,b,c){var c=c||[],d=function(a){b||$A(JotForm.forms).each(function(a){JotForm.resetForm(a)});$H(a.result).each(function(a){var b=a.key,d=a.value;try{if($A(c).include(d.type))return!0;switch(d.type){case "control_fileupload":if($("input_"+b)&&$("input_"+b).uploadMarked==d.value)break;setTimeout(function(){if($$("#id_"+b+" .qq-upload-list")[0]){var a=d.value,c,a=a.replace(/<a/g,'<li class=" qq-upload-success"><span class="qq-upload-file"><a'),a=a.replace(/<\/a>/g,'</a></span><span class="qq-upload-delete">X</span></li>'),
a=a.replace(/<br>/g,"");$$("#id_"+b+" ul.qq-upload-list")[0].update(a);setTimeout(function(){var a=$$("#id_"+b+" ul.qq-upload-list li span.qq-upload-delete");a&&a.each(function(a){a.observe("click",function(){this.up().hide();var a=this.up().select("a")[0].text;if(!a)a=this.up().select("a")[0].innerText;$("uploadedBefores_"+b).value=$("uploadedBefores_"+b).value.replace(a,"");if(!$("uploadedBefores_"+b).value)$("uploadedBefores_"+b).value=","})})},200);a=$$("#id_"+b+" ul.qq-upload-list li a");c="";
a&&(a.each(function(a){a.text?c+=a.text+",":a.innerText?c+=a.innerText+",":a.up("li.qq-upload-success").hide()}),c=c.substring(0,c.length-1));$("cid_"+b).insert({after:(new Element("input",{id:"uploadedBefores_"+b,type:"hidden",name:"uploadedBefore"+b})).putValue(c)})}else{$$("#clip_"+b+", #link_"+b+", #old_"+b).invoke("remove");$("input_"+b).uploadMarked=d.value;$("input_"+b).resetUpload();var a=d.value.split("/"),a=a[a.length-1],f=JotForm.getFileExtension(a);if(JotForm.imageFiles.include(f.toLowerCase())){var f=
(new Element("div",{id:"clip_"+b})).setStyle({height:"50px",width:"50px",overflow:"hidden",marginRight:"5px",border:"1px solid #ccc",background:"#fff",cssFloat:"left"}),g=new Element("img",{src:d.value,width:50});f.insert(g);$("input_"+b).insert({before:f})}f=new Element("div",{id:"link_"+b});$("input_"+b).insert({after:f.insert((new Element("a",{href:d.value,target:"_blank"})).insert(a.shorten(40)))});$("input_"+b).insert({after:(new Element("input",{type:"hidden",name:"input_"+b+"_old",id:"old_"+
b})).putValue(d.items)})}},200);break;case "control_scale":case "control_radio":var f=d.name==void 0?$$("#id_"+b+' input[type="radio"]'):document.getElementsByName("q"+b+"_"+(d.type=="control_radio"?d.name:b));$A(f).each(function(a){if(a.value==d.value)a.checked=!0});break;case "control_checkbox":var h=$$("#id_"+b+' input[type="checkbox"]');$A(h).each(function(a){if(d.items.include(a.value))a.checked=!0});break;case "control_rating":$("input_"+b)&&$("input_"+b).setRating(d.value);break;case "control_grading":var n=
document.getElementsByName("q"+b+"_clickTo[]");$A(n).each(function(a,b){a.putValue(d.items[b])});break;case "control_slider":$("input_"+b).setSliderValue(d.value);break;case "control_range":$("input_"+b+"_from").putValue(d.items.from);$("input_"+b+"_to").putValue(d.items.to);break;case "control_matrix":var l,m=!1;Object.isArray(d.items)?l=$A(d.items):(l=$H(d.items),m=!0);if(d.name==void 0){var o=$$("#id_"+b+" input")[0]||$$("#id_"+b+" select")[0],p=o.name;d.name=o.type=="radio"?p.substr(3,p.length-
6):p.substr(3,p.length-8)}l.each(function(a,c){if(m)c=a.key,a=a.value;if(Object.isString(a)){var f=document.getElementsByName("q"+b+"_"+d.name+"["+c+"]");$A(f).each(function(b){if(b.value==a)b.checked=!0})}else $A(a).each(function(a,f){var g=document.getElementsByName("q"+b+"_"+d.name+"["+c+"][]");g[f].className=="form-checkbox"?$A(g).each(function(b){if(b.value==a)b.checked=!0}):g[f].value=a})});break;case "control_datetime":case "control_fullname":$H(d.items).each(function(a){if($(a.key+"_"+b))$(a.key+
"_"+b).value=a.value});break;case "control_phone":case "control_birthdate":case "control_address":$H(d.items).each(function(a){$("input_"+b+"_"+a.key)&&$("input_"+b+"_"+a.key).putValue(a.value)});break;case "control_autoincrement":case "control_hidden":if($("input_"+b))if(JotForm.saveForm||document.get.mode=="edit")$("input_"+b).putValue(d.value);else{var t=$$(".form-section")[0];$$('.form-section li[title="Hidden Field"]');var r=$$('.form-section li[title="Hidden Field"]'),s='<li id="id_'+b+'" class="form-line" title="Hidden Field"><label for="input_'+
b+'" id="label_'+b+'" class="form-label-left"> '+d.text+' </label><div class="form-input" id="cid_'+b+'"></div></li>';r.size()>0?r.last().insert({after:s}):t.insert({top:s});$("cid_"+b).insert($("input_"+b).putValue(d.value));var q=$("input_"+b);q.replace('<input type="text" id="'+q.id+'" name="'+q.name+'" value="'+q.value+'">');$("input_"+b).setStyle({opacity:0.9,border:"1px dashed #999",padding:"3px"})}break;case "control_payment":case "control_paypal":case "control_paypalpro":case "control_clickbank":case "control_2co":case "control_worldpay":case "control_googleco":case "control_onebip":case "control_authnet":$H(d.items).each(function(a){if(a.key==
"price")$("input_"+b+"_donation").value=a.value;else if("pid"in a.value&&$("input_"+b+"_"+a.value.pid))$("input_"+b+"_"+a.value.pid).checked=!0,"options"in a.value&&$A(a.value.options).each(function(c,d){if($("input_"+b+"_"+c.type+"_"+a.value.pid+"_"+d))$("input_"+b+"_"+c.type+"_"+a.value.pid+"_"+d).value=c.selected})});break;default:$("input_"+b)&&$("input_"+b).putValue(d.value)}}catch(u){console.error(u)}});$H(JotForm.fieldConditions).each(function(a){var b=a.key,a=a.value.event;JotForm.info("Has Condition:",
b,$(b));$(b)&&$(b).run(a)})};a?d(a):new Ajax.Request("server.php",{parameters:{action:"getSubmissionResults",formID:document.get.sid},evalJSON:"force",onComplete:function(a){a=a.responseJSON;a.success&&(d(a),$$('input[name="formID"]')[0].insert({after:(new Element("input",{type:"hidden",name:"editSubmission"})).putValue(document.get.sid)}),document.get.mode=="inlineEdit"&&$$('input[name="formID"]')[0].insert({after:(new Element("input",{type:"hidden",name:"inlineEdit"})).putValue("yes")}),JotForm.getContainer($$(".form-captcha")[0]).hide())}.bind(this)})},
setConditions:function(a){JotForm.conditions=a},showField:function(a){var b="id_";$("cid_"+a)&&!$("id_"+a)&&(b="cid_");b=$(b+a);if(!b||b.visible())return b;$H(JotForm.defaultValues).each(function(b){if(b.key.startsWith("input_"+a))$(b.key).hasClassName("form-radio")||$(b.key).hasClassName("form-checkbox")?$(b.key).checked=!0:$(b.key).value=b.value});$("input_"+a)&&$("input_"+a).hinted&&$("input_"+a).runHint();return b.show()},hideField:function(a){var b="id_";$("cid_"+a)&&!$("id_"+a)&&(b="cid_");
if(a=$(b+a))return a.select("input, select, textarea").each(function(a){a.tagName=="INPUT"&&["checkbox","radio"].include(a.readAttribute("type"))?(a.checked=!1,JotForm.isVisible(a)&&JotForm.getContainer(a).run("click")):(a.clear(),JotForm.isVisible(a)&&a.run("keyup").run("change").run("date:changed"))}),a.hide()},checkValueByOperator:function(a,b,c){var d=Object.isBoolean(c)?c:c.toString().strip(),f=Object.isBoolean(b)?b:b.toString().strip();JotForm.log('if "%s" %s "%s"',d,a,f,"\t\t\t=> Originals:",
"Field: '",c,"', Cond: '",b,"'");switch(a){case "equals":return d==f;case "notEquals":return d!=f;case "endsWith":return d.endsWith(f);case "startsWith":return d.startsWith(f);case "contains":return d.include(f);case "notContains":return!d.include(f);case "greaterThan":return(parseInt(d,10)||0)>(parseInt(f,10)||0);case "lessThan":return d.length?(parseInt(d,10)||0)<(parseInt(f,10)||0):!1;case "isEmpty":return Object.isBoolean(d)?!d:d.empty();case "isFilled":return Object.isBoolean(d)?d:!d.empty();
case "before":return c<b;case "after":return c>b;default:JotForm.error("Could not find this operator",a)}return!1},typeCache:{},getInputType:function(a){if(JotForm.typeCache[a])return JotForm.typeCache[a];var b=!1;$("input_"+a)?(b=$("input_"+a).nodeName.toLowerCase()=="input"?$("input_"+a).readAttribute("type").toLowerCase():$("input_"+a).nodeName.toLowerCase(),$("input_"+a).hasClassName("form-radio-other-input")&&(b="radio")):$("input_"+a+"_pick")?b="datetime":$$("#id_"+a+" input")[0]&&(b=$$("#id_"+
a+" input")[0].readAttribute("type").toLowerCase(),b=="text"&&(b="combined"));return JotForm.typeCache[a]=b},strToDate:function(a){var b=new Date(void 0),c=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(a.empty())return b;if(!c.test(a))return b;var d=new Date;a.replace(c,function(a,b,c,k,j,h){d.setYear(parseInt(b,10));d.setMonth(parseInt(c,10)-1);d.setDate(parseInt(k,10));j&&(d.setHours(parseInt(j,10)),d.setMinutes(parseInt(h,10)));return a});return d},getDateValue:function(a){var b="";$("year_"+
a)&&(b+=$("year_"+a).value||"%empty%");$("month_"+a)&&(b+="-"+($("month_"+a).value||"%empty%"));$("day_"+a)&&(b+="-"+($("day_"+a).value||"%empty%"));if(b.include("%empty%"))return JotForm.info("Wrong date: "+b),"";var c="";if($("ampm_"+a)){if($("hour_"+a))c=$("hour_"+a).value,$("ampm_"+a).value=="pm"&&(c=parseInt(c,10)+12),c=="24"&&(c=0),b+="T"+((c.length==1?"0"+c:c)||"00")}else if($("hour_"+a))c=$("hour_"+a).value,b+="T"+((c.length==1?"0"+c:c)||"00");$("min_"+a)&&(b+=":"+($("min_"+a).value||"00"));
c===""&&(b+="T00:00");return b},checkCondition:function(a){var b=!1,c=!0,d;$A(a.terms).each(function(a){var e;try{switch(JotForm.getInputType(a.field)){case "combined":if(["isEmpty","isFilled"].include(a.operator)){d=$$("#id_"+a.field+" input").collect(function(a){return a.value}).any();JotForm.checkValueByOperator(a.operator,a.value,d)?b=!0:c=!1;break}break;case "datetime":e=JotForm.getDateValue(a.field);if(e===void 0)break;["isEmpty","isFilled"].include(a.operator)?JotForm.checkValueByOperator(a.operator,
a.value,e)?b=!0:c=!1:JotForm.checkValueByOperator(a.operator,JotForm.strToDate(a.value),JotForm.strToDate(e))?b=!0:c=!1;break;case "checkbox":case "radio":if(["isEmpty","isFilled"].include(a.operator)){d=$$("#id_"+a.field+" input").collect(function(a){return a.checked}).any();JotForm.checkValueByOperator(a.operator,a.value,d)?b=!0:c=!1;break}$$("#id_"+a.field+" input").each(function(e){var d=e.checked?e.value:"";if(JotForm.checkValueByOperator(a.operator,a.value,d))b=!0;else{if(a.operator=="notEquals"&&
a.value==d)throw c=b=!1,$break;e.value==a.value&&(c=!1)}});break;case "tel":var f=function(d){e=$("input_"+a.field+d).value;$("input_"+a.field+d).hinted&&(e="");e!==void 0&&(JotForm.checkValueByOperator(a.operator,a.value,e)?b=!0:c=!1)};f("_area");f("_phone");break;default:e=$("input_"+a.field).value;$("input_"+a.field).hinted&&(e="");if(e===void 0)break;JotForm.checkValueByOperator(a.operator,a.value,e)?b=!0:c=!1}}catch(j){JotForm.error(j)}});if(a.type=="field")JotForm.log("any: %s, all: %s, link: %s",
b,c,a.link.toLowerCase()),a.link.toLowerCase()=="any"&&b||a.link.toLowerCase()=="all"&&c?a.action.visibility.toLowerCase()=="show"?(JotForm.info("Correct: Show field: "+($("label_"+a.action.field)&&$("label_"+a.action.field).innerHTML)),JotForm.showField(a.action.field)):(JotForm.info("Correct: Hide field: "+($("label_"+a.action.field)&&$("label_"+a.action.field).innerHTML)),JotForm.hideField(a.action.field)):a.action.visibility.toLowerCase()=="show"?(JotForm.info("Fail: Hide field: "+($("label_"+
a.action.field)&&$("label_"+a.action.field).innerHTML)),JotForm.hideField(a.action.field)):(JotForm.info("Fail: Show field: "+($("label_"+a.action.field)&&$("label_"+a.action.field).innerHTML)),JotForm.showField(a.action.field));else if(JotForm.log("any: %s, all: %s, link: %s",b,c,a.link.toLowerCase()),!JotForm.nextPage)if(a.link.toLowerCase()=="any"&&b||a.link.toLowerCase()=="all"&&c){JotForm.info("Correct: Skip To: "+a.action.skipTo);var f=$$(".form-section");JotForm.nextPage=a.action.skipTo=="end"?
f[f.length-1]:f[parseInt(a.action.skipTo.replace("page-",""),10)-1]}else JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1),JotForm.nextPage=!1},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(a,b,c){JotForm.fieldConditions[a]||(JotForm.fieldConditions[a]={event:b,conditions:[]});JotForm.fieldConditions[a].conditions.push(c)},setConditionEvents:function(){try{$A(JotForm.conditions).each(function(a){a.type=="field"?(a.action.visibility.toLowerCase()==
"show"?$("id_"+a.action.field)&&$("id_"+a.action.field).hide():$("id_"+a.action.field)&&$("id_"+a.action.field).show(),$A(a.terms).each(function(c){c=c.field;switch(JotForm.getInputType(c)){case "combined":JotForm.setFieldConditions("id_"+c,"keyup",a);break;case "datetime":JotForm.setFieldConditions("id_"+c,"date:changed",a);break;case "select":JotForm.setFieldConditions("input_"+c,"change",a);break;case "checkbox":case "radio":JotForm.setFieldConditions("id_"+c,"click",a);break;case "tel":JotForm.setFieldConditions("input_"+
c+"_area","keyup",a);JotForm.setFieldConditions("input_"+c+"_phone","keyup",a);break;default:JotForm.setFieldConditions("input_"+c,"keyup",a)}})):$A(a.terms).each(function(c){var d=c.field;(c=JotForm.getSection($("id_"+d)).select(".form-pagebreak-next")[0])&&c.observe("mousedown",function(){JotForm.warn("Checking "+$("label_"+d).innerHTML.strip());JotForm.checkCondition(a)})})}),$H(JotForm.fieldConditions).each(function(a){var c=a.key,d=a.value.event,f=a.value.conditions;JotForm.info("Has Condition:",
c,$(c));$(c)&&$(c).observe(d,function(){$A(f).each(function(a){var b=c.replace(/[^0-9]/gim,"");JotForm.warn("Checking "+$("label_"+b).innerHTML.strip(),", Field Type: "+JotForm.getInputType(b));JotForm.checkCondition(a)})}).run(d)})}catch(a){JotForm.error(a)}},countTotal:function(a){var b=0;$H(a).each(function(a){b=parseFloat(b);var d=parseFloat(a.value.price);$(a.key).checked&&($(a.value.quantityField)&&(d*=parseInt($(a.value.quantityField).getSelected().text,10)),b+=d)});b===0&&(b="0.00");$("payment_total")&&
$("payment_total").update(parseFloat(b).toFixed(2))},totalCounter:function(a){$H(a).each(function(b){$(b.key).observe("click",function(){JotForm.countTotal(a)});$(b.value.quantityField)&&$(b.value.quantityField).observe("change",function(){setTimeout(function(){if(JotForm.isVisible($(b.value.quantityField)))$(b.key).checked=!0,JotForm.countTotal(a)},50)})})},initCaptcha:function(a){setTimeout(function(){new Ajax.Jsonp(JotForm.server,{parameters:{action:"getCaptchaId"},evalJSON:"force",onComplete:function(b){b=
b.responseJSON||b;if(b.success)$(a+"_captcha").src=JotForm.url+"server.php?action=getCaptchaImg&code="+b.num,$(a+"_captcha_id").value=b.num}})},150)},reloadCaptcha:function(a){$(a+"_captcha").src=JotForm.url+"images/blank.gif";JotForm.initCaptcha(a)},addZeros:function(a,b){var a=a.toString(),c="";if(b>a.length)for(i=0;i<b-a.length;i++)c+="0";return c+a.toString()},formatDate:function(a){var b=a.date,c=JotForm.addZeros(b.getMonth()+1,2),d=JotForm.addZeros(b.getDate(),2),f=b.getYear()<1E3?b.getYear()+
1900:b.getYear(),g=JotForm.addZeros(b.getHours(),2),b=JotForm.addZeros(b.getMinutes(),2),a=a.dateField.id.replace(/\w+\_/gim,"");$("month_"+a).value=c;$("day_"+a).value=d;$("year_"+a).value=f;if($("hour_"+a))$("ampm_"+a)?(c="AM",g>11&&(c="PM"),g>12&&(g-=12),g===0&&(g=12),$("hour_"+a).value=g,$("ampm_"+a).selectOption(c)):$("hour_"+a).value=g;if($("min_"+a))$("min_"+a).value=b;$("id_"+a).fire("date:changed")},highLightLines:function(){$$(".form-line").each(function(a){a.select("input, select, textarea, div, table div, button").each(function(b){b.observe("focus",
function(){JotForm.isCollapsed(a)&&JotForm.getCollapseBar(a).run("click");if(JotForm.highlightInputs&&(a.addClassName("form-line-active"),a.__classAdded))a.__classAdded=!1}).observe("blur",function(){JotForm.highlightInputs&&a.removeClassName("form-line-active")})})})},getForm:function(a){a=$(a);return!a.parentNode?!1:a&&a.tagName=="BODY"?!1:a.tagName=="FORM"?$(a):JotForm.getForm(a.parentNode)},getContainer:function(a){a=$(a);return!a.parentNode?!1:a&&a.tagName=="BODY"?!1:a.hasClassName("form-line")?
$(a):JotForm.getContainer(a.parentNode)},getSection:function(a){a=$(a);return!a.parentNode?!1:a&&a.tagName=="BODY"?!1:a.hasClassName("form-section-closed")||a.hasClassName("form-section")?a:JotForm.getSection(a.parentNode)},getCollapseBar:function(a){a=$(a);return!a.parentNode?!1:a&&a.tagName=="BODY"?!1:a.hasClassName("form-section-closed")||a.hasClassName("form-section")?a.select(".form-collapse-table")[0]:JotForm.getCollapseBar(a.parentNode)},isCollapsed:function(a){a=$(a);return!a.parentNode?!1:
a&&a.tagName=="BODY"?!1:a.className=="form-section-closed"?!0:JotForm.isCollapsed(a.parentNode)},isVisible:function(a){a=$(a);return!a.parentNode?!1:a&&a.tagName=="BODY"?!0:a.style.display=="none"||a.style.visibility=="hidden"?!1:JotForm.isVisible(a.parentNode)},enableDisableButtonsInMultiForms:function(){$$(".form-submit-button").each(function(a){a.up("ul.form-section")&&(a.up("ul.form-section").style.display=="none"?a.disable():a.className.indexOf("disabled")==-1&&a.enable())})},enableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(a){a.enable();
a.innerHTML=a.oldText})},60)},setButtonActions:function(){$$(".form-submit-button").each(function(a){a.oldText=a.innerHTML;a.enable();a.observe("click",function(){setTimeout(function(){!$$(".form-error-message")[0]&&!$$(".form-textarea-limit-indicator-error")[0]&&$$(".form-submit-button").each(function(a){a.innerHTML=JotForm.texts.pleaseWait;a.addClassName("lastDisabled");a.disable()})},50)})});$$(".form-submit-reset").each(function(a){a.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1}});
$$(".form-submit-print").each(function(a){a.observe("click",function(){$(a.parentNode).hide();$$(".form-textarea, .form-textbox").each(function(a){if(!a.type)a.value=a.value||"0";var c;(c=a.next(".date-separate"))&&c.hide();c="";a.value.length<a.size&&(c="width:"+a.size*9+"px;");a.insert({before:(new Element("div",{className:"print_fields"})).update(a.value.replace(/\n/g,"<br>")).setStyle("border:1px solid #ccc; padding:1px 4px;min-height:18px;"+c)}).hide()});window.print();$$(".form-textarea, .form-textbox, .date-separate").invoke("show");
$$(".print_fields").invoke("remove");$(a.parentNode).show()})})},initGradingInputs:function(){$$(".form-grading-input").each(function(a){a.observe("blur",function(){var b=a.id.replace(/input_(\d+)_\d+/,"$1"),c=0;$("grade_error_"+b).innerHTML="";$(a.parentNode.parentNode).select(".form-grading-input").each(function(a){a=parseFloat(a.value)||0;c+=a});var d=parseFloat($("grade_total_"+b).innerHTML);$("grade_point_"+b).innerHTML=c;if(c>d)$("grade_error_"+b).innerHTML=" "+JotForm.texts.lessThan+" <b>"+
d+"</b>."})})},backStack:[],currentSection:!1,handlePages:function(){var a=this,b=[],c;$$(".form-pagebreak").each(function(c,d){var e=$(c.parentNode.parentNode);d>=1?e.hide():JotForm.currentSection=e;b.push(e);e.pagesIndex=d+1;e.select(".form-pagebreak-next").invoke("observe","click",function(){if(!JotForm.saving)if(JotForm.validateAll(JotForm.getForm(e))){if(JotForm.nextPage)JotForm.backStack.push(e.hide()),JotForm.currentSection=JotForm.nextPage.show(),a.noJump||JotForm.currentSection.scrollIntoView(),
JotForm.enableDisableButtonsInMultiForms();else if(e.next())JotForm.backStack.push(e.hide()),JotForm.currentSection=e.next().show(),a.noJump||JotForm.currentSection.scrollIntoView(),JotForm.enableDisableButtonsInMultiForms();JotForm.nextPage=!1;JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(e))}else try{$$(".form-button-error").invoke("remove"),$$(".form-pagebreak-next").each(function(a){var b=new Element("div",{className:"form-button-error"});b.insert(JotForm.texts.incompleteFields);$(a.parentNode.parentNode).insert(b)})}catch(b){}});
e.select(".form-pagebreak-back").invoke("observe","click",function(){if(!JotForm.saving)e.hide(),JotForm.currentSection=JotForm.backStack.pop().show(),a.noJump||JotForm.currentSection.scrollIntoView(),JotForm.nextPage=!1,JotForm.enableDisableButtonsInMultiForms(),JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(e)),$$(".form-button-error").invoke("remove")})});if(b.length>0){var d=$$(".form-section");d.length>0&&(c=d[d.length-1]);if(c){c.pagesIndex=d.length;b.push(c);c.hide();var d=new Element("li",
{className:"form-input-wide"}),f=new Element("div",{className:"form-pagebreak"}),g=new Element("div",{className:"form-pagebreak-back-container"}),e=$$(".form-pagebreak-back-container")[0].select("button")[0];e.observe("click",function(){if(!JotForm.saving)c.hide(),JotForm.nextPage=!1});g.insert(e);f.insert(g);d.insert(f);c.insert(d)}}},handleFormCollapse:function(){var a=this,b=!1,c=0;$$(".form-collapse-table").each(function(d){var f=$(d.parentNode.parentNode);f.setUnselectable();f.className=="form-section-closed"?
f.closed=!0:f.select(".form-collapse-hidden").length<0&&(b=f,c++);d.observe("click",function(){if(f.closed){f.setStyle("overflow:visible; height:auto");var d=f.getHeight();if(b&&b!=f&&c<=1)b.className="form-section-closed",b.shift({height:60,duration:0.5}),b.select(".form-collapse-right-show").each(function(a){a.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),b.closed=!0;b=f;f.setStyle("overflow:hidden; height:60px");setTimeout(function(){f.scrollTop=0;f.className=
"form-section"},1);f.shift({height:d,duration:0.5,onEnd:function(b){b.scrollTop=0;b.setStyle("height:auto;");a.noJump||b.scrollIntoView()}});f.select(".form-collapse-right-hide").each(function(a){a.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")});f.closed=!1}else f.scrollTop=0,f.shift({height:60,duration:0.5,onEnd:function(a){a.className="form-section-closed"}}),b&&b.select(".form-collapse-right-show").each(function(a){a.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),
f.closed=!0})})},handlePayPalProMethods:function(){$("creditCardTable")&&$$(".paymentTypeRadios").each(function(a){a.observe("click",function(){a.checked&&a.value=="express"&&$("creditCardTable").hide();a.checked&&a.value=="credit"&&$("creditCardTable").show()})})},description:function(a,b){if(b!="20"){var c=!1;if(!$(a)){var d=a.replace(/[^\d]/gim,"");if($("id_"+d))a=$("id_"+d),c=!0;else if($("section_"+d))a=$("section_"+d),c=!0;else return}$(a).setSliderValue&&(a=$($(a).parentNode));var f=JotForm.getContainer(a);
if(f){var g=!1,e=new Element("div",{className:"form-description"}),d=new Element("div",{className:"form-description-arrow"}),k=new Element("div",{className:"form-description-arrow-small"}),j=new Element("div",{className:"form-description-content"}),h;"desc"in document.get&&document.get.desc=="v2"&&(g=!0,f.insert(h=new Element("div",{className:"form-description-indicator"})),e.addClassName("right"));j.insert(b);e.insert(d).insert(k).insert(j).hide();f.insert(e);f.getWidth()/2<e.getWidth()&&e.setStyle("right: -"+
(f.getWidth()-(g?100:20))+"px");g?(h=h.measure("height"),d.setStyle("top:"+(h/2-20)+"px"),k.setStyle("top:"+(h/2-17)+"px"),$(f).mouseEnter(function(){f.setStyle("z-index:10000");if(!f.hasClassName("form-line-active"))f.addClassName("form-line-active"),f.__classAdded=!0;e.show()},function(){if(f.__classAdded)f.removeClassName("form-line-active"),f.__classAdded=!1;f.setStyle("z-index:0");e.hide()}),$(a).observe("keydown",function(){f.setStyle("z-index:0");e.hide()})):c?$(a).mouseEnter(function(){f.setStyle("z-index:10000");
e.show()},function(){f.setStyle("z-index:0");e.hide()}):($(f).mouseEnter(function(){f.setStyle("z-index:10000");e.show()},function(){f.setStyle("z-index:0");e.hide()}),$(a).observe("keyup",function(){f.setStyle("z-index:0");e.hide()}),$(a).observe("focus",function(){f.setStyle("z-index:10000");e.show()}),$(a).observe("blur",function(){f.setStyle("z-index:0");e.hide()}))}}},validateAll:function(a){var b=!0;$$(".form-textarea-limit-indicator-error")[0]&&(b=!1);var c="";a&&a.id&&(c="#"+a.id+" ");$$(c+
'*[class*="validate"]').each(function(a){if(a.validateInput!==void 0&&(!a.validateInput||!a.validateInput()))b=!1});return b},errored:function(a,b){a=$(a);if(a.errored)return!1;a.runHint&&a.runHint();if(JotForm.isCollapsed(a)){var c=JotForm.getCollapseBar(a);if(!c.errored)c.select(".form-collapse-mid")[0].insert({top:'<img src="'+this.url+'images/exclamation-octagon.png" align="bottom" style="margin-right:5px;"> '}).setStyle({color:"red"}),c.errored=!0}c=JotForm.getContainer(a);a.errored=!0;a.addClassName("form-validation-error");
c.addClassName("form-line-error");var d=c;(d=c.select(".form-input")[0])||(d=c.select(".form-input-wide")[0]);d||(d=c);d.select(".form-error-message").invoke("remove");d.insert((new Element("div",{className:"form-error-message"})).insert('<img src="'+this.url+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"> '+b).insert((new Element("div",{className:"form-error-arrow"})).insert(new Element("div",{className:"form-error-arrow-inner"}))));return!1},corrected:function(a){JotForm.hideButtonMessage();
a=$(a);a.errored=!1;if(JotForm.isCollapsed(a)){var b=JotForm.getCollapseBar(a);if(b.errored)b.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),b.errored=!1}a=JotForm.getContainer(a);if(!a)return!0;a.select(".form-validation-error").invoke("removeClassName","form-validation-error");a.removeClassName("form-line-error");a.select(".form-error-message").invoke("remove");return!0},hideButtonMessage:function(){$$(".form-button-error").invoke("remove")},showButtonMessage:function(){this.hideButtonMessage();
$$(".form-submit-button").each(function(a){var b=new Element("div",{className:"form-button-error"});b.insert(JotForm.texts.incompleteFields);$(a.parentNode).insert(b)})},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations)return this.info("Validations stopped by debug parameter"),!0;var a=this,b=/[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])/i,c=/^[a-zA-Z0-9]+$/,d=/^(\d+[\.]?)+$/,
f=/^[a-zA-Z\s]+$/;$A(JotForm.forms).each(function(g){if(!g.validationSet)g.validationSet=!0,g.observe("submit",function(a){try{if(!JotForm.validateAll(g)){JotForm.enableButtons();JotForm.showButtonMessage();a.stop();return}}catch(b){JotForm.error(b);a.stop();return}JotForm.compact&&JotForm.imageSaved==!1&&(a.stop(),window.parent.saveAsImage(),$(document).observe("image:loaded",function(){var a;$(document.body).insert(a=(new Element("div")).setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);"));
a.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>');setTimeout(function(){g.submit()},1E3)}))}),$$("#"+g.id+' *[class*="validate"]').each(function(e){var g=e.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/);e.validateInput=function(){if(!JotForm.isVisible(e))return!0;JotForm.corrected(e);var h=g;e.hinted===!0&&(e.clearHint(),setTimeout(function(){e.hintClear()},150));
if(h.include("Email_Confirm")){var j=e.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+j).value!=$("input_"+j+"_confirm").value)return JotForm.errored(e,JotForm.texts.confirmEmail)}else if(h.include("required")){if(e.tagName=="INPUT"&&e.readAttribute("type")=="file")return e.value.empty()&&!e.uploadMarked?JotForm.errored(e,JotForm.texts.required):JotForm.corrected(e);else if(e.tagName=="INPUT"&&(e.readAttribute("type")=="radio"||e.readAttribute("type")=="checkbox"))if($(e.parentNode).hasClassName("form-matrix-values")){e.readAttribute("type");
var l={};e.up("table").select("input").each(function(a){a.name in l||(l[a.name]=!1);if(l[a.name]!==!0)l[a.name]=a.checked});if(!$H(l).values().all())return JotForm.errored(e,JotForm.texts.required)}else{if(!$A(document.getElementsByName(e.name)).map(function(a){return a.checked}).any())return JotForm.errored(e,JotForm.texts.required)}else if(e.name&&e.name.include("["))try{var m=a.getContainer(e),j=e.name.include("birthDate")?"select":"input";if(m.select(j+"[name*="+e.name.replace(/\[.*$/,"")+"]").map(function(a){if(a.hasClassName("form-address-state")){var b=
m.select(".form-address-country")[0].value;if(b!="United States"&&b!="Canada"&&b!="Please Select")return a.removeClassName("form-validation-error"),a.__skipField=!0,!1}else if(a.__skipField)a.__skipField=!1;if(a.className.include("validate[required]")&&JotForm.isVisible(a)&&(a.value.empty()||a.value.strip()=="Please Select"))return a.addClassName("form-validation-error"),!0;a.removeClassName("form-validation-error");return!1}).any())return JotForm.errored(e,JotForm.texts.required)}catch(o){return JotForm.error(o),
JotForm.corrected(e)}if(e.__skipField)return JotForm.corrected(e);if((!e.value||e.value.empty()||e.value=="Please Select")&&!(e.readAttribute("type")=="radio"||e.readAttribute("type")=="checkbox"))return JotForm.errored(e,JotForm.texts.required);h=h.without("required")}else if(e.value.empty())return!0;if(!h[0])return!0;switch(h[0]){case "Email":if(!b.test(e.value))return JotForm.errored(e,JotForm.texts.email);break;case "Alphabetic":if(!f.test(e.value))return JotForm.errored(e,JotForm.texts.alphabetic);
break;case "Numeric":if(!d.test(e.value))return JotForm.errored(e,JotForm.texts.numeric);break;case "AlphaNumeric":if(!c.test(e.value))return JotForm.errored(e,JotForm.texts.alphanumeric)}return JotForm.corrected(e)};var j=function(){setTimeout(function(){a.lastFocus&&(a.lastFocus==e||a.getContainer(a.lastFocus)!=a.getContainer(e))?e.validateInput():e.type=="hidden"&&e.validateInput()},10)};e.type=="hidden"?e.observe("change",j):e.observe("blur",j)}),$$(".form-upload").each(function(a){try{var b=
!!a.validateInput,c=a.validateInput||Prototype.K;a.validateInput=function(){if(c()!==!1){if(!a.files)return!0;var b=a.readAttribute("accept")||a.readAttribute("file-accept")||"",d=a.readAttribute("maxsize")||a.readAttribute("file-maxsize")||"",f=b.strip().split(/\s*\,\s*/gim),g=parseInt(d,10)*1024,h=a.files[0];if(!h)return!0;if(!h.fileName)h.fileName=h.name;var k="";JotForm.getFileExtension(h.fileName)&&(k=JotForm.getFileExtension(h.fileName));if(b!="*"&&!f.include(k)&&!f.include(k.toLowerCase()))return JotForm.errored(a,
JotForm.texts.uploadExtensions+" "+b);if(!h.fileSize)h.fileSize=h.size;return h.fileSize>g?JotForm.errored(a,JotForm.texts.uploadFilesize+" "+d+"Kb"):JotForm.corrected(a)}};b||(a.addClassName("validate[upload]"),a.observe("blur",a.validateInput))}catch(d){JotForm.error(d)}})})},FBInit:function(){JotForm.FBNoSubmit=!0;FB.getLoginStatus(function(a){a.authResponse?JotForm.FBCollectInformation(a.authResponse.userID):FB.Event.subscribe("auth.login",function(a){JotForm.FBCollectInformation(a.authResponse.userID)})})},
FBCollectInformation:function(a){JotForm.FBNoSubmit=!1;var b=$$(".form-helper").collect(function(a){var b="",b=a.readAttribute("data-info").replace("user_","");switch(b){case "location":b="current_location";break;case "can_be_anyvalue":b="place correct one here";break}return[b,a.id]}),c={};$A(b).each(function(a){c[a[0]]=a[1]});try{var d=$H(c).keys().join(", ");FB.Data.query("SELECT "+d+" FROM user WHERE uid={0}",a).wait(function(b){var d;$H(b[0]).each(function(a){if(d=$(c[a.key]))switch(a.key){case "current_location":d.value=
a.value.name;break;case "website":d.value=a.value.split(/\s+/).join(", ");break;default:d.value=a.value}});JotForm.bringOldFBSubmissionBack(a);b=(new Element("input",{type:"hidden",name:"fb_user_id"})).setValue(a);JotForm.getForm(d).insert({top:b})})}catch(f){console.error(f)}$$(".fb-login-buttons").invoke("show");$$(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(a){var b=$$('input[name="formID"]')[0];new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",
formID:b.value,fbid:a},evalJSON:"force",onComplete:function(a){a=a.responseJSON;a.success&&JotForm.editMode(a,!0,["control_helper","control_fileupload"])}})}};window.fbAsyncInit=JotForm.FBInit.bind(JotForm);
