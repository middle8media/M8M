(function(d){typeof define==="function"&&define.amd?define(["jquery"],d):d(jQuery)})(function(d,g){var h,k,l;function G(a){function b(){i?(c(),H(b),d=!0,i=!1):d=!1}var c=a,i=!1,d=!1;this.kick=function(){i=!0;d||b()};this.end=function(a){var b=c;a&&(d?(c=i?function(){b();a()}:a,i=!0):a())}}function I(){return!0}function o(){return!1}function p(a){a.preventDefault()}function q(a){r[a.target.tagName.toLowerCase()]||a.preventDefault()}function m(a,b){var c,d;if(a.identifiedTouch)return a.identifiedTouch(b);
c=-1;for(d=a.length;++c<d;)if(a[c].identifier===b)return a[c]}function s(a,b){var c=m(a.changedTouches,b.identifier);if(c)return c.pageX===b.pageX&&c.pageY===b.pageY?void 0:c}function t(a){u(a,a.data,a,n)}function J(){n()}function n(){e(document,h,t);e(document,k,n)}function v(a){var b=a.data,c=s(a,b);c&&u(a,b,c,w)}function x(a){var b=a.data;m(a.changedTouches,b.identifier)&&w(b.identifier)}function w(a){e(document,"."+a,v);e(document,"."+a,x)}function u(a,b,c,d){var e=c.pageX-b.startX,f=c.pageY-
b.startY;e*e+f*f<y*y||K(a,b,c,e,f,d)}function L(){this._handled=I;return!1}function z(a){a._handled()}function K(a,b,c,e,f,h){var j,g;j=a.targetTouches;g=a.timeStamp-b.timeStamp;b.type="movestart";b.distX=e;b.distY=f;b.deltaX=e;b.deltaY=f;b.pageX=c.pageX;b.pageY=c.pageY;b.velocityX=e/g;b.velocityY=f/g;b.targetTouches=j;b.finger=j?j.length:1;b._handled=L;b._preventTouchmoveDefault=function(){a.preventDefault()};d.event.trigger(b,void 0,b.target);h(b.identifier)}function A(a){B(a.data.event,a,a.timeStamp,
a.data.timer)}function C(a){var b=a.data.event,a=a.data.timer;e(document,h,A);e(document,l,C);D(b,a,function(){setTimeout(function(){e(b.target,"click",o)},0)})}function E(a){var b=a.data.event,c=a.data.timer,d=s(a,b);if(d)a.preventDefault(),b.targetTouches=a.targetTouches,B(b,d,a.timeStamp,c)}function F(a){var b=a.data.event,c=a.data.timer;m(a.changedTouches,b.identifier)&&(e(document,"."+b.identifier,E),e(document,"."+b.identifier,F),D(b,c))}function B(a,b,c,d){c-=a.timeStamp;a.type="move";a.distX=
b.pageX-a.startX;a.distY=b.pageY-a.startY;a.deltaX=b.pageX-a.pageX;a.deltaY=b.pageY-a.pageY;a.velocityX=0.3*a.velocityX+0.7*a.deltaX/c;a.velocityY=0.3*a.velocityY+0.7*a.deltaY/c;a.pageX=b.pageX;a.pageY=b.pageY;d.kick()}function D(a,b,c){b.end(function(){a.type="moveend";d.event.trigger(a,void 0,a.target);return c&&c()})}var y=6,f=d.event.add,e=d.event.remove,H=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return window.setTimeout(function(){a()},25)}}(),r={textarea:!0,input:!0,select:!0,button:!0};h="mousemove";k="mouseup dragstart";l="mouseup";d.event.special.movestart={setup:function(){f(this,"movestart.move",z);return!0},teardown:function(){e(this,"dragstart drag",p);e(this,"mousedown touchstart",q);e(this,"movestart",z);return!0},add:function(a){a.namespace==="move"||a.namespace==="moveend"||(f(this,"dragstart."+a.guid+" drag."+a.guid,p,g,a.selector),
f(this,"mousedown."+a.guid,q,g,a.selector))},remove:function(a){a.namespace==="move"||a.namespace==="moveend"||(e(this,"dragstart."+a.guid+" drag."+a.guid),e(this,"mousedown."+a.guid))},_default:function(a){var b,c;a._handled()&&(b={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,targetTouches:a.targetTouches,finger:a.finger},
c={event:b,timer:new G(function(){d.event.trigger(b,void 0,a.target)})},a.identifier===g?(f(a.target,"click",o),f(document,h,A,c),f(document,l,C,c)):(a._preventTouchmoveDefault(),f(document,"touchmove."+a.identifier,E,c),f(document,"touchend."+a.identifier,F,c)))}};d.event.special.move={setup:function(){f(this,"movestart.move",d.noop)},teardown:function(){e(this,"movestart.move",d.noop)}};d.event.special.moveend={setup:function(){f(this,"movestart.moveend",d.noop)},teardown:function(){e(this,"movestart.moveend",
d.noop)}};f(document,"mousedown.move",function(a){a.which===1&&!a.ctrlKey&&!a.altKey&&(a={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},f(document,h,t,a),f(document,k,J,a))});f(document,"touchstart.move",function(a){var b;r[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],a={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,identifier:b.identifier},f(document,"touchmove."+b.identifier,v,a),f(document,"touchend."+b.identifier,x,a))});typeof Array.prototype.indexOf===
"function"&&function(a){for(var b=["changedTouches","targetTouches"],c=b.length;c--;)a.event.props.indexOf(b[c])===-1&&a.event.props.push(b[c])}(d)});
