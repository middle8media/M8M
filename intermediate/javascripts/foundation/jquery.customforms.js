jQuery.foundation=jQuery.foundation||{};jQuery.foundation.customForms=jQuery.foundation.customForms||{};
jQuery(document).ready(function(a){a.foundation.customForms.appendCustomMarkup=function(g){function f(f,d){var b=a(d).hide(),c=b.attr("type"),e=b.next("span.custom."+c);e.length===0&&(e=a('<span class="custom '+c+'"></span>').insertAfter(b));e.toggleClass("checked",b.is(":checked"));e.toggleClass("disabled",b.is(":disabled"))}g=a.extend({disable_class:"js-disable-custom"},g);a("form.custom input:radio[data-customforms!=disabled]").each(f);a("form.custom input:checkbox[data-customforms!=disabled]").each(f);
a("form.custom select[data-customforms!=disabled]").each(function(f,d){var b=a(d),c=b.next("div.custom.dropdown"),e=b.find("option"),g=b.find("option:selected"),h=0,i;b.hasClass("no-custom")||(c.length===0?($customSelectSize="",a(d).hasClass("small")?$customSelectSize="small":a(d).hasClass("medium")?$customSelectSize="medium":a(d).hasClass("large")?$customSelectSize="large":a(d).hasClass("expand")&&($customSelectSize="expand"),c=a('<div class="custom dropdown '+$customSelectSize+'"><a href="#" class="selector"></a><ul></ul></div>"'),
e.each(function(){i=a("<li>"+a(this).html()+"</li>");c.find("ul").append(i)}),c.prepend('<a href="#" class="current">'+g.html()+"</a>"),b.after(c),b.hide()):(c.find("ul").html(""),e.each(function(){i=a("<li>"+a(this).html()+"</li>");c.find("ul").append(i)})),c.toggleClass("disabled",b.is(":disabled")),e.each(function(b){this.selected&&(c.find("li").eq(b).addClass("selected"),c.find(".current").html(a(this).html()))}),c.css("width","inherit"),c.find("ul").css("width","inherit"),c.find("li").each(function(){c.addClass("open");
a(this).outerWidth()>h&&(h=a(this).outerWidth());c.removeClass("open")}),c.is(".small, .medium, .large, .expand")||(c.css("width",h+18+"px"),c.find("ul").css("width",h+16+"px")))})}});
(function(a){function g(d){var b=0,c=d.next();$options=d.find("option");c.find("ul").html("");$options.each(function(){$li=a("<li>"+a(this).html()+"</li>");c.find("ul").append($li)});$options.each(function(b){this.selected&&(c.find("li").eq(b).addClass("selected"),c.find(".current").html(a(this).html()))});c.removeAttr("style").find("ul").removeAttr("style");c.find("li").each(function(){c.addClass("open");a(this).outerWidth()>b&&(b=a(this).outerWidth());c.removeClass("open")});c.css("width",b+18+
"px");c.find("ul").css("width",b+16+"px")}function f(a){var b=a.prev(),c=b[0];if(!1==b.is(":disabled"))c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change")}function j(d){var b=d.prev(),c=b[0];if(!1==b.is(":disabled"))a('input:radio[name="'+b.attr("name")+'"]').each(function(){a(this).next().removeClass("checked")}),c.checked=c.checked?!1:!0,d.toggleClass("checked"),b.trigger("change")}a("form.custom span.custom.checkbox").live("click",function(d){d.preventDefault();d.stopPropagation();
f(a(this))});a("form.custom span.custom.radio").live("click",function(d){d.preventDefault();d.stopPropagation();j(a(this))});a("form.custom select").live("change",function(){g(a(this))});a("form.custom label").live("click",function(d){var b=a("#"+a(this).attr("for"));b.length!==0&&(b.attr("type")==="checkbox"?(d.preventDefault(),d=a(this).find("span.custom.checkbox"),f(d)):b.attr("type")==="radio"&&(d.preventDefault(),d=a(this).find("span.custom.radio"),j(d)))});a("form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector").live("click",
function(d){var b=a(this).closest("div.custom.dropdown"),c=b.prev();d.preventDefault();a("div.dropdown").removeClass("open");if(!1==c.is(":disabled"))return b.toggleClass("open"),b.hasClass("open")?a(document).bind("click.customdropdown",function(){b.removeClass("open");a(document).unbind(".customdropdown")}):a(document).unbind(".customdropdown"),!1});a("form.custom div.custom.dropdown li").live("click",function(d){var b=a(this),c=b.closest("div.custom.dropdown"),e=c.prev(),f=0;d.preventDefault();
d.stopPropagation();a("div.dropdown").removeClass("open");b.closest("ul").find("li").removeClass("selected");b.addClass("selected");c.removeClass("open").find("a.current").html(b.html());b.closest("ul").find("li").each(function(a){b[0]==this&&(f=a)});e[0].selectedIndex=f;e.trigger("change")})})(jQuery);
