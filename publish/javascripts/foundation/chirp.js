var Chirp=function(l){var c={retweets:!0,replies:!1,user:"middle8media",list:null,search:null,target:null,count:1,max:1,cacheExpire:12E4,success:function(){},error:function(){},templates:{base:'<ul class="chirp">{{tweets}}</ul>',tweet:'<li><a href="http://twitter.com/middle8media" target="_blank" ><img src="{{user.profile_image_url}}"></a>{{html}}<span class="meta"><time><a href="http://twitter.com/{{user.screen_name}}/statuses/{{id_str}}" target="_blank" ></br> {{time_ago}}</a></time> \u2014 via <a href="http://twitter.com/{{user.screen_name}}" title="{{user.name}} \u2014 {{user.description}}" target="_blank" >{{user.name}}</a></span></li>'}},
k=function(a,d){for(var b in d)b in a&&(a[b]&&a[b].constructor==Object?k(a[b],d[b]):a[b]=d[b])},p=function(a,d){var b=[],f=a,c={urls:function(a){return'<a href="'+a.expanded_url+'" target="_blank">'+a.display_url+"</a>"},hashtags:function(a){return'<a href="http://twitter.com/search/%23'+a.text+'" target="_blank">#'+a.text+"</a>"},user_mentions:function(a){return'<a href="http://twitter.com/'+a.screen_name+'" title="'+a.name+'" target="_blank">@'+a.screen_name+"</a>"},media:function(a){return'<a href="'+
a.expanded_url+'" target="_blank">'+a.display_url+"</a>"}},i;for(i in d)if(e=d[i],d[i].length>0)for(var g=0,e;e=d[i][g];++g)b[e.indices[0]]={start:e.indices[0],end:e.indices[1],link:c[i](e)};for(g=b.length-1;g>=0;--g)b[g]!=void 0&&(f=f.substr(0,b[g].start)+b[g].link+f.substr(b[g].end,f.length-1));return f},m=function(a,d){for(var b=a,f=function(a,b){var c="";b.indexOf("!")>-1&&(b=b.replace(/!/ig,""),c="!");try{e=eval(c+"d['"+b.split(".").join("']['")+"']")}catch(d){e=""}return e},c=a.match(/{{[^}}]*}}/igm),
i=0;i<c.length;++i)var g=c[i],e=f(d,c[i].replace(/{{|}}/ig,""))||"",b=b.replace(RegExp(g,"igm"),e);return b},o=function(a,d){if(localStorage&&JSON){var b=(new Date).getTime(),f=null;if(d==void 0){try{f=JSON.parse(unescape(localStorage.getItem(a)))}catch(r){}f?b-f.time<c.cacheExpire?f=f.data:(localStorage.removeItem(a),f=null):f=null;return f}else try{localStorage.setItem(a,escape(JSON.stringify({time:b,data:d})))}catch(i){console.log(i)}}else return null},q=function(){Chirp.requests=Chirp.requests==
void 0?1:Chirp.requests+1;var a=document.createElement("script"),d="callback"+Chirp.requests,b=document.scripts[document.scripts.length-1],f=c.list?m("http://api.twitter.com/1/{{user}}/lists/{{list}}/statuses.json?include_entities=true",c):c.search?m("http://search.twitter.com/search.json?include_entities=true&q={{search}}",c):m("http://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&count={{count}}&include_rts={{retweets}}&exclude_replies={{!replies}}&screen_name={{user}}",c);
Chirp[d]=function(a,d){a=a.results?a.results:a;d!==!0&&o(f,a);var g=document.createElement("div"),e;e=a;var k="",l=0;for(twt in e){e[twt].index=++l;e[twt].html=p(e[twt].text,e[twt].entities);var n=e[twt],h;h=new Date((e[twt].created_at||"").replace(/(\d{1,2}[:]\d{2}[:]\d{2}) (.*)/,"$2 $1").replace(/(\+\S+) (.*)/,"$2 $1").replace(/-/g,"/"));h=((new Date).getTime()-h.getTime())/1E3;var j=Math.floor(h/86400);h=isNaN(j)||j<0||j>=31?void 0:j==0&&(h<60&&"just now"||h<120&&"1 minute ago"||h<3600&&Math.floor(h/
60)+" minutes ago"||h<7200&&"1 hour ago"||h<86400&&Math.floor(h/3600)+" hours ago")||j==1&&"Yesterday"||j<7&&j+" days ago"||j<31&&Math.ceil(j/7)+" weeks ago";n.time_ago=h;k+=m(c.templates.tweet,e[twt]);if(l==c.max)break}e=m(c.templates.base,{tweets:k});g.innerHTML=e;c.target==null?b.parentNode.insertBefore(g,b):document.getElementById(c.target).innerHTML=g.innerHTML;c.success.call(this,a)};a.onerror=c.error;if(cachedData=o(f))Chirp[d](cachedData,!0);else a.src=f+"&callback=Chirp."+d,document.getElementsByTagName("head")[0].appendChild(a)},
n=function(a){if(a&&a!=void 0)if(a.constructor==String){var a=a.split("/"),d={};d.user=a[0];d.list=a[1]?a[1]:null;k(c,d)}else a.constructor==Object&&k(c,a)};this.show=function(a){n(a);if(c.target)document.getElementById(c.target).innerHTML="";q()};this.constructor!=Chirp?(new Chirp(l)).show():n(l)};Chirp._script=document.scripts[document.scripts.length-1];
