(function(c){var e={bodyHeight:0,targetClass:".has-tip",tooltipClass:".tooltip",tipTemplate:function(a,b){return'<span data-selector="'+a+'" class="'+e.tooltipClass.substring(1)+'">'+b+'<span class="nub"></span></span>'}},d={init:function(){return this.each(function(){var a=c("body");if(Modernizr.touch)a.on("click.tooltip touchstart.tooltip touchend.tooltip",e.targetClass,function(a){a.preventDefault();c(e.tooltipClass).hide();d.showOrCreateTip(c(this))}),a.on("click.tooltip touchstart.tooltip touchend.tooltip",
e.tooltipClass,function(a){a.preventDefault();c(this).fadeOut(150)});else a.on("mouseenter.tooltip mouseleave.tooltip",e.targetClass,function(a){var i=c(this);a.type==="mouseenter"?d.showOrCreateTip(i):a.type==="mouseleave"&&d.hide(i)})})},showOrCreateTip:function(a){var b=d.getTip(a);b&&b.length>0?d.show(a):d.create(a)},getTip:function(a){var a=d.selector(a),b=null;a&&(b=c("span[data-selector="+a+"]"+e.tooltipClass));return b.length>0?b:!1},selector:function(a){var b=a.attr("id"),c=a.data("selector");
b===void 0&&c===void 0&&(c="tooltip"+Math.random().toString(36).substring(7),a.attr("data-selector",c));return b?b:c},create:function(a){var b=c(e.tipTemplate(d.selector(a),c("<div>").text(a.attr("title")).html())),i=d.inheritable_classes(a);b.addClass(i).appendTo("body");Modernizr.touch&&b.append('<span class="tap-to-close">tap to close </span>');a.removeAttr("title");d.show(a)},reposition:function(a,b,d){var e,h,f,g;b.css("visibility","hidden").show();e=a.data("width");h=b.children(".nub");f=h.outerHeight();
h.outerWidth();g=function(a,b,c,d,e,f){return a.css({top:b,bottom:d,left:e,right:c,width:f?f:"auto"}).end()};g(b,a.offset().top+a.outerHeight()+10,"auto","auto",a.offset().left,e);g(h,-f,"auto","auto",10);c(window).width()<767?(d=a.closest(".columns"),d.length<0&&(d=c("body")),b.width(d.outerWidth()-25).css("left",15).addClass("tip-override"),g(h,-f,"auto","auto",a.offset().left)):d.indexOf("tip-top")>-1?(g(b,a.offset().top-b.outerHeight()-f,"auto","auto",a.offset().left,e).removeClass("tip-override"),
g(h,"auto","auto",-f,"auto")):d.indexOf("tip-left")>-1?(g(b,a.offset().top+a.outerHeight()/2-f,"auto","auto",a.offset().left-b.outerWidth()-10,e).removeClass("tip-override"),g(h,b.outerHeight()/2-f/2,-f,"auto","auto")):d.indexOf("tip-right")>-1&&(g(b,a.offset().top+a.outerHeight()/2-f,"auto","auto",a.offset().left+a.outerWidth()+10,e).removeClass("tip-override"),g(h,b.outerHeight()/2-f/2,"auto","auto",-f));b.css("visibility","visible").hide()},inheritable_classes:function(a){var b=["tip-top","tip-left",
"tip-bottom","tip-right","noradius"],a=a.attr("class").split(" ").map(function(a){if(c.inArray(a,b)!==-1)return a}).join(" ");return c.trim(a)},show:function(a){var b=d.getTip(a);d.reposition(a,b,a.attr("class"));b.fadeIn(150)},hide:function(a){d.getTip(a).fadeOut(150)},reload:function(){var a=c(this);return a.data("tooltips")?a.tooltips("destroy").tooltips("init"):a.tooltips("init")},destroy:function(){return this.each(function(){c(window).off(".tooltip");c(e.targetClass).off(".tooltip");c(e.tooltipClass).each(function(a){c(c(e.targetClass).get(a)).attr("title",
c(this).text())}).remove()})}};c.fn.tooltips=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return d.init.apply(this,arguments);else c.error("Method "+a+" does not exist on jQuery.tooltips")}})(jQuery);
